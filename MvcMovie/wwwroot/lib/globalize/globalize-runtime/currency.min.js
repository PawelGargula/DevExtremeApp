!function(r,e){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime","./number"],e):"object"==typeof exports?module.exports=e(require("../globalize-runtime"),require("./number")):e(r.Globalize)}(this,function(t){function a(r,e,t){var n=[],a=t.displayNames||{},u=t.unitPatterns,t=a["displayName-count-"+e]||a["displayName-count-other"]||a.displayName||t.currency,u=u["unitPattern-count-"+e]||u["unitPattern-count-other"];return o(u,[r,t]).forEach(function(r){"variable"===r.type&&"0"===r.name?r.value.forEach(function(r){c(n,r.type,r.value)}):"variable"===r.type&&"1"===r.name?c(n,"currency",r.value):c(n,"literal",r.value)}),n}var o=t._formatMessageToParts,n=t._partsJoin,c=t._partsPush,u=t._runtimeKey,i=t._validateParameterPresence,y=t._validateParameterTypeNumber;return t._currencyFormatterFn=function(e){return function(r){return n(e(r))}},t._currencyNameFormat=a,t._currencyToPartsFormatterFn=function(t,n,e){var r=n&&e?function(r){return i(r,"value"),y(r,"value"),a(t(r),n(r),e)}:function(r){return r=t(r),e=n,r.forEach(function(r){"currency"===r.type&&(r.value=e)}),r;var e};return r},t.currencyFormatter=t.prototype.currencyFormatter=function(r,e){return t[u("currencyFormatter",this._locale,[r,e=e||{}])]},t.currencyToPartsFormatter=t.prototype.currencyToPartsFormatter=function(r,e){return t[u("currencyToPartsFormatter",this._locale,[r,e=e||{}])]},t.formatCurrency=t.prototype.formatCurrency=function(r,e,t){return i(r,"value"),y(r,"value"),this.currencyFormatter(e,t)(r)},t.formatCurrencyToParts=t.prototype.formatCurrencyToParts=function(r,e,t){return i(r,"value"),y(r,"value"),this.currencyToPartsFormatter(e,t)(r)},t});