!function(e,r){"use strict";"function"==typeof define&&define.amd?define(["../globalize-runtime"],r):"object"==typeof exports?module.exports=r(require("../globalize-runtime")):r(e.Globalize)}(this,function(r){function P(e){return a("E_UNSUPPORTED","Unsupported {feature}.",{feature:e})}function n(e,r){c(e,r,void 0===e||"number"==typeof e,"Number")}function y(e,r,t){var n;return 0===e?e:(n=Math.ceil(Math.log(Math.abs(e))/Math.log(10)),t(e,{exponent:n-=r}))}function E(e){return e[0]+e[e.length-1]!=="''"?e:"''"===e?"'":e.replace(/''/g,"'").slice(1,-1)}function u(e,r,t){var n,u,a,i,o,c=r[2],l=r[3],f=r[4],p=r[5],s=r[6],m=r[7],b=r[8],g=r[9],F=r[15],v=r[16],h=r[17],N=r[18],x=r[19],D=r[20];return isNaN(e)?[{type:"nan",value:h}]:(h=e<0?(i=r[12],n=r[13],r[14]):(i=r[11],n=r[0],r[10]),n=(r=function(e){var t="integer",n=[];return e.replace(/('([^']|'')+'|'')|./g,function(e,r){r?_(n,"literal",E(r)):"¤"!==e?(e=(e=e.replace(/[.,\-+E%\u2030]/,function(e){return"."===e&&(t="fraction"),_(n,A[e],N[e]),""})).replace(/[0-9]/,function(e){return x&&(e=x[+e]),_(n,t,e),""})).replace(/./,function(e){_(n,"literal",e)}):_(n,"currency",e)}),n})(n),h=r(h),isFinite(e)?(-1!==i.indexOf("%")?e*=100:-1!==i.indexOf("‰")&&(e*=1e3),D&&(a=Math.abs(Math.floor(e)).toString().length-1,"0"===(u=3<=(a=Math.min(a,D.maxExponent))?D[a]&&D[a].other:u)?u=null:u&&(o=u.split("0").length-1,e/=Math.pow(10,a-(o-1)))),e=isNaN(p*s)?(i=e,o=c,c=l,l=F,m=m,i=(f=f)?l(i,m||{exponent:-f}):l(i),i=String(i),f&&/e-/.test(i)&&(i=(+i).toFixed(f).replace(/0+$/,"").replace(/\.$/,"")),c&&((i=i.split("."))[1]=d(i[1]||"",c,!0),i=i.join(".")),o&&((i=i.split("."))[0]=d(i[0],o),i=i.join(".")),i):function(e,r,t,n){var u;if(t<r&&(t=r),e=(+(e=+(u=y(e,r,n))==+(n=y(e,t,n))?u:n)).toString(10),/e/.test(e))throw P({feature:"integers out of (1e21, 1e-7)"});return 0<r-e.replace(/^0+|\./g,"").length&&((e=e.split("."))[1]=d(e[1]||"",r-e[0].replace(/^0+/,"").length,!0),e=e.join(".")),e}(e,p,s,F),D&&u&&(t=t?t(+e):"other",t=(u=D[a][t]||u).match(S),n=n.concat((u=function(e){var n=[];return e.replace(/(\s+)|([^\s0]+)/g,function(e,r,t){r?_(n,"literal",r):t&&_(n,"compact",t)}),n})(t[1])),h=u(t[3]).concat(h)),e=e.replace(/^-/,""),b&&(e=function(e,r,t){for(var n=r,u="",a=!!t,i=(e=String(e).split("."))[0].length;n<i;)u=e[0].slice(i-n,i)+(u.length?",":"")+u,i-=n,a&&(n=t,a=!1);return e[0]=e[0].slice(0,i)+(u.length?",":"")+u,e.join(".")}(e,b,g)),n.concat(r(e),h)):n.concat({type:"infinity",value:v},h))}function p(e){return e.replace(s,"").replace(m,"-").replace(b," ")}function t(e,r){var t,n,u,a,i,o,c,l,f;return t=[["nan"],["prefix","infinity","suffix"],["prefix","number","suffix"],["negativePrefix","infinity","negativeSuffix"],["negativePrefix","number","negativeSuffix"]],u=r[0],n=r[1]||{},l=r[2],e=p(e),f=e,!t.some(function(e){var t=f;return e.every(function(e){return null!==t.match(l[e])&&(t=t.replace(l[e],(r=e,function(e){switch(e=e.split("").map(function(e){return u[e]||n[e]||e}).join(""),r){case"infinity":i=1/0;break;case"nan":i=NaN;break;case"number":e=e.replace(/,/g,""),i=+e;break;case"prefix":case"negativePrefix":o=e;break;case"suffix":c=e;break;case"negativeSuffix":c=e,a=!0;break;default:throw new Error("Internal error")}return""})),!0);var r})&&!t.length})||isNaN(i)?NaN:(-1!==(e=""+o+c).indexOf("%")?i/=100:-1!==e.indexOf("‰")&&(i/=1e3),a&&(i*=-1),i)}function e(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)}var a=r._createError,i=r._partsJoin,_=r._partsPush,o=(r._regexpEscape,r._runtimeKey),d=r._stringPad,c=r._validateParameterType,l=r._validateParameterPresence,f=r._validateParameterTypeString,S=/^([^0]*)(0+)([^0]*)$/,A={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},s=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC38]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/g,m=/[\x2D\u058A\u05BE\u1400\u1806\u2010-\u2015\u2E17\u2E1A\u2E3A\u2E3B\u2E40\u301C\u3030\u30A0\uFE31\uFE32\uFE58\uFE63\uFF0D\u2212]|\uD803\uDEAD/g,b=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/g;function g(e){return r[e].runtimeKey=e,r[e]}return r._createErrorUnsupportedFeature=P,r._looseMatching=p,r._numberFormat=u,r._numberFormatterFn=function(r){return function(e){return i(r(e))}},r._numberParse=t,r._numberParserFn=function(r){return function(e){return l(e,"value"),f(e,"value"),t(e,r)}},r._numberRound=function(u){return u="truncate"===(u=u||"round")?e:Math[u],function(e,r){var t,n;if(e=+e,isNaN(e))return NaN;if("object"==typeof r&&r.exponent){if(n=1,0===(t=+r.exponent))return u(e);if("number"!=typeof t||t%1!=0)return NaN}else{if(1===(n=+r||1))return u(e);if(isNaN(n))return NaN;t=+(n=n.toExponential().split("e"))[1],n=+n[0]}return(e=e.toString().split("e"))[0]=+e[0]/n,e[1]=e[1]?+e[1]-t:-t,(e=(e=u(+(e[0]+"e"+e[1]))).toString().split("e"))[0]=+e[0]*n,e[1]=e[1]?+e[1]+t:t,+(e[0]+"e"+e[1])}},r._numberToPartsFormatterFn=function(r,t){return function(e){return l(e,"value"),n(e,"value"),u(e,r,t)}},r._removeLiteralQuotes=E,r._validateParameterPresence=l,r._validateParameterTypeNumber=n,r._validateParameterTypeString=f,r.numberFormatter=r.prototype.numberFormatter=function(e){return g(o("numberFormatter",this._locale,[e=e||{}]))},r.numberToPartsFormatter=r.prototype.numberToPartsFormatter=function(e){return g(o("numberToPartsFormatter",this._locale,[e=e||{}]))},r.numberParser=r.prototype.numberParser=function(e){return r[o("numberParser",this._locale,[e=e||{}])]},r.formatNumber=r.prototype.formatNumber=function(e,r){return l(e,"value"),n(e,"value"),this.numberFormatter(r)(e)},r.formatNumberToParts=r.prototype.formatNumberToParts=function(e,r){return l(e,"value"),n(e,"value"),this.numberFormatter(r)(e)},r.parseNumber=r.prototype.parseNumber=function(e,r){return l(e,"value"),f(e,"value"),this.numberParser(r)(e)},r});