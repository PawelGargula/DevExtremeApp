!function(t,e){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event"],e):"object"==typeof exports?module.exports=e(require("cldrjs"),require("../globalize")):e(t.Cldr,t.Globalize)}(this,function(n,t){var e,r,l=t._alwaysArray,o=t._createError,i=t._isPlainObject,c=t._runtimeBind,p=t._validateDefaultLocale,f=t._validate,h=t._validateParameterPresence,m=t._validateParameterType,a=t._validateParameterTypePlainObject;function Ut(t,e,r,n,o,i){this.message=t,this.expected=e,this.found=r,this.offset=n,this.line=o,this.column=i,this.name="SyntaxError"}function u(){this.constructor=e}function d(t,e){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(t))return e?e+"."+t:t;t=JSON.stringify(t);return e?e+"["+t+"]":t}function y(t,e,r){if(this.lc=[t],this.runtime.pluralFuncs={},this.runtime.pluralFuncs[this.lc[0]]=e,this.runtime.fmt={},r)for(var n in r)this.runtime.fmt[n]=r[n]}y._parse=(e=Ut,r=Error,u.prototype=r.prototype,e.prototype=new u,function(a){var t=1<arguments.length?arguments[1]:{},u={},e={start:Et},r=Et,n=function(t){return{type:"messageFormatPattern",statements:t}},s=u,l="{",c={type:"literal",value:"{",description:'"{"'},p=null,f=",",h={type:"literal",value:",",description:'","'},m="}",d={type:"literal",value:"}",description:'"}"'},y=function(t,e){t={type:"messageFormatElement",argumentIndex:t};return e&&e.length?t.elementFormat=e[1]:t.output=!0,t},v="plural",g={type:"literal",value:"plural",description:'"plural"'},A=function(t,e){return{type:"elementFormat",key:t,val:e}},F="selectordinal",_={type:"literal",value:"selectordinal",description:'"selectordinal"'},b="select",w={type:"literal",value:"select",description:'"select"'},x=function(t,e){return{type:"elementFormat",key:t,val:e}},o=function(t,e){return{type:"pluralFormatPattern",pluralForms:e,offset:t||0}},i="offset",j={type:"literal",value:"offset",description:'"offset"'},S=":",C={type:"literal",value:":",description:'":"'},E=function(t){return t},P=function(t,e){return{key:t,val:e}},k=function(t){return t},I="=",O={type:"literal",value:"=",description:'"="'},N=function(t){return{type:"selectFormatPattern",pluralForms:t}},G=function(t){return t},M="#",R={type:"literal",value:"#",description:'"#"'},z=function(){return{type:"octothorpe"}},$=function(t){return{type:"string",val:t.join("")}},J={type:"other",description:"identifier"},L=/^[0-9a-zA-Z$_]/,Z={type:"class",value:"[0-9a-zA-Z$_]",description:"[0-9a-zA-Z$_]"},B=/^[^ \t\n\r,.+={}]/,D={type:"class",value:"[^ \\t\\n\\r,.+={}]",description:"[^ \\t\\n\\r,.+={}]"},U=function(t){return t},q=function(t){return t.join("")},T=/^[^{}#\\\0-\x1F \t\n\r]/,V={type:"class",value:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}#\\\\\\0-\\x1F \\t\\n\\r]"},H=function(t){return t},K="\\\\",Q={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},W=function(){return"\\"},X="\\#",Y={type:"literal",value:"\\#",description:'"\\\\#"'},tt=function(){return"#"},et="\\{",rt={type:"literal",value:"\\{",description:'"\\\\{"'},nt=function(){return"{"},ot="\\}",it={type:"literal",value:"\\}",description:'"\\\\}"'},at=function(){return"}"},ut="\\u",st={type:"literal",value:"\\u",description:'"\\\\u"'},lt=function(t,e,r,n){return String.fromCharCode(parseInt("0x"+t+e+r+n))},ct=/^[0-9]/,pt={type:"class",value:"[0-9]",description:"[0-9]"},ft=function(t){return parseInt(t.join(""),10)},ht=/^[0-9a-fA-F]/,mt={type:"class",value:"[0-9a-fA-F]",description:"[0-9a-fA-F]"},dt={type:"other",description:"whitespace"},yt=function(t){return t.join("")},vt=/^[ \t\n\r]/,gt={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},At=0,Ft=0,_t={line:1,column:1,seenCR:!1},bt=0,wt=[],xt=0;if("startRule"in t){if(!(t.startRule in e))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=e[t.startRule]}function jt(t){return Ft!==t&&(t<Ft&&(Ft=0,_t={line:1,column:1,seenCR:!1}),function(t,e,r){for(var n,o=e;o<r;o++)"\n"===(n=a.charAt(o))?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(_t,Ft,t),Ft=t),_t}function St(t){At<bt||(bt<At&&(bt=At,wt=[]),wt.push(t))}function Ct(t,e,r){var n=jt(r),o=r<a.length?a.charAt(r):null;return null!==e&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(e),new Ut(null!==t?t:function(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n].description;function o(t){return t.charCodeAt(0).toString(16).toUpperCase()}return"Expected "+(1<t.length?r.slice(0,-1).join(", ")+" or "+r[t.length-1]:r[0])+" but "+(e?'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+o(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+o(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+o(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+o(t)})+'"':"end of input")+" found."}(e,o),e,o,r,n.line,n.column)}function Et(){return Pt()}function Pt(){var t=At,e=[],r=kt();for(r===u&&(r=Rt())===u&&(r=Mt());r!==u;)e.push(r),(r=kt())===u&&(r=Rt())===u&&(r=Mt());return e!==u&&(e=n(e)),t=e}function kt(){var t,e,r,n,o,i=At;return 123===a.charCodeAt(At)?(t=l,At++):(t=u,0===xt&&St(c)),i=t!==u&&Bt()!==u&&(e=zt())!==u?(r=At,44===a.charCodeAt(At)?(n=f,At++):(n=u,0===xt&&St(h)),(r=(r=n!==u&&(o=function(){var t,e,r,n,o,i;t=At,t=(e=Bt())!==u?(a.substr(At,6)===v?(r=v,At+=6):(r=u,0===xt&&St(g)),r!==u?(n=Bt())!==u?(44===a.charCodeAt(At)?(o=f,At++):(o=u,0===xt&&St(h)),o!==u?Bt()!==u?(i=It())!==u?Bt()!==u?e=A(r,i):(At=t,s):(At=t,s):(At=t,s):(At=t,s)):(At=t,s):(At=t,s)):(At=t,s);if(t===u&&(t=At,e=Bt(),(t=e!==u?(a.substr(At,13)===F?(r=F,At+=13):(r=u,0===xt&&St(_)),r!==u?(n=Bt())!==u?(44===a.charCodeAt(At)?(o=f,At++):(o=u,0===xt&&St(h)),o!==u?Bt()!==u?(i=It())!==u?Bt()!==u?e=A(r,i):(At=t,s):(At=t,s):(At=t,s):(At=t,s)):(At=t,s):(At=t,s)):(At=t,s))===u&&(t=At,e=Bt(),(t=e!==u?(a.substr(At,6)===b?(r=b,At+=6):(r=u,0===xt&&St(w)),r!==u?(n=Bt())!==u?(44===a.charCodeAt(At)?(o=f,At++):(o=u,0===xt&&St(h)),o!==u?Bt()!==u?(i=function(){var t,e,r;if(t=At,e=[],(r=Nt())!==u)for(;r!==u;)e.push(r),r=Nt();else e=s;e!==u&&(e=N(e));return t=e}())!==u?Bt()!==u?e=A(r,i):(At=t,s):(At=t,s):(At=t,s):(At=t,s)):(At=t,s):(At=t,s)):(At=t,s))===u)))if(t=At,(e=Bt())!==u)if((r=zt())!==u){for(n=[],o=Gt();o!==u;)n.push(o),o=Gt();t=n!==u?e=x(r,n):(At=t,s)}else At=t,t=s;else At=t,t=s;return t}())!==u?n=[n,o]:(At=r,s))===u?p:r)!==u&&(n=Bt())!==u?(125===a.charCodeAt(At)?(o=m,At++):(o=u,0===xt&&St(d)),o!==u?t=y(e,r):(At=i,s)):(At=i,s)):(At=i,s)}function It(){var t,e,r=At,n=function(){var t,e,r;t=At,t=Bt()!==u?(a.substr(At,6)===i?(e=i,At+=6):(e=u,0===xt&&St(j)),e!==u?Bt()!==u?(58===a.charCodeAt(At)?(r=S,At++):(r=u,0===xt&&St(C)),r!==u?Bt()!==u?(r=Lt())!==u?Bt()!==u?E(r):(At=t,s):(At=t,s):(At=t,s):(At=t,s)):(At=t,s):(At=t,s)):(At=t,s);return t}();if((n=n===u?p:n)!==u){if(t=[],(e=Ot())!==u)for(;e!==u;)t.push(e),e=Ot();else t=s;r=t!==u?n=o(n,t):(At=r,s)}else At=r,r=s;return r}function Ot(){var t,e,r,n,o=At,i=Bt();return o=i!==u&&(t=function(){var t,e,r;t=At,(e=zt())!==u&&(e=k(e));(t=e)===u&&(t=At,61===a.charCodeAt(At)?(e=I,At++):(e=u,0===xt&&St(O)),t=e!==u?(r=Lt())!==u?e=E(r):(At=t,s):(At=t,s));return t}())!==u&&Bt()!==u?(123===a.charCodeAt(At)?(e=l,At++):(e=u,0===xt&&St(c)),e!==u&&Bt()!==u&&(r=Pt())!==u&&Bt()!==u?(125===a.charCodeAt(At)?(n=m,At++):(n=u,0===xt&&St(d)),n!==u?P(t,r):(At=o,s)):(At=o,s)):(At=o,s)}function Nt(){var t,e,r,n,o=At,i=Bt();return o=i!==u&&(t=zt())!==u&&Bt()!==u?(123===a.charCodeAt(At)?(e=l,At++):(e=u,0===xt&&St(c)),e!==u&&Bt()!==u&&(r=Pt())!==u&&Bt()!==u?(125===a.charCodeAt(At)?(n=m,At++):(n=u,0===xt&&St(d)),n!==u?P(t,r):(At=o,s)):(At=o,s)):(At=o,s)}function Gt(){var t,e,r=At,n=Bt();return r=n!==u?(44===a.charCodeAt(At)?(t=f,At++):(t=u,0===xt&&St(h)),t!==u&&Bt()!==u&&(e=zt())!==u&&Bt()!==u?G(e):(At=r,s)):(At=r,s)}function Mt(){var t,e=At;return 35===a.charCodeAt(At)?(t=M,At++):(t=u,0===xt&&St(R)),t!==u&&(t=z()),e=t}function Rt(){var t=At,e=[],r=$t();if((r=r===u?Dt():r)!==u)for(;r!==u;)e.push(r),(r=$t())===u&&(r=Dt());else e=s;return e!==u&&(e=$(e)),t=e}function zt(){var t,e,r,n,o,i;if(xt++,t=At,Bt()!==u){if(r=e=At,L.test(a.charAt(At))?(n=a.charAt(At),At++):(n=u,0===xt&&St(Z)),n!==u){for(o=[],B.test(a.charAt(At))?(i=a.charAt(At),At++):(i=u,0===xt&&St(D));i!==u;)o.push(i),B.test(a.charAt(At))?(i=a.charAt(At),At++):(i=u,0===xt&&St(D));r=o!==u?n=[n,o]:(At=r,s)}else At=r,r=s;t=(e=r=r!==u?a.substring(e,At):r)!==u&&(r=Bt())!==u?U(e):(At=t,s)}else At=t,t=s;return xt--,t===u&&(0===xt&&St(J)),t}function $t(){var t=At,e=[],r=Jt();if(r!==u)for(;r!==u;)e.push(r),r=Jt();else e=s;return e!==u&&(e=q(e)),t=e}function Jt(){var t,e,r,n,o,i=At;return T.test(a.charAt(At))?(t=a.charAt(At),At++):(t=u,0===xt&&St(V)),t!==u&&(t=H(t)),(i=t)===u&&(i=At,a.substr(At,2)===K?(t=K,At+=2):(t=u,0===xt&&St(Q)),t!==u&&(t=W()),(i=t)===u&&(i=At,a.substr(At,2)===X?(t=X,At+=2):(t=u,0===xt&&St(Y)),t!==u&&(t=tt()),(i=t)===u&&(i=At,a.substr(At,2)===et?(t=et,At+=2):(t=u,0===xt&&St(rt)),t!==u&&(t=nt()),(i=t)===u&&(i=At,a.substr(At,2)===ot?(t=ot,At+=2):(t=u,0===xt&&St(it)),t!==u&&(t=at()),(i=t)===u&&(i=At,a.substr(At,2)===ut?(t=ut,At+=2):(t=u,0===xt&&St(st)),i=t!==u&&(e=Zt())!==u&&(r=Zt())!==u&&(n=Zt())!==u&&(o=Zt())!==u?t=lt(e,r,n,o):(At=i,s)))))),i}function Lt(){var t,e=At,r=[];if(ct.test(a.charAt(At))?(t=a.charAt(At),At++):(t=u,0===xt&&St(pt)),t!==u)for(;t!==u;)r.push(t),ct.test(a.charAt(At))?(t=a.charAt(At),At++):(t=u,0===xt&&St(pt));else r=s;return r!==u&&(r=ft(r)),e=r}function Zt(){var t;return ht.test(a.charAt(At))?(t=a.charAt(At),At++):(t=u,0===xt&&St(mt)),t}function Bt(){var t,e,r;for(xt++,t=At,e=[],r=Dt();r!==u;)e.push(r),r=Dt();return e!==u&&(e=yt(e)),xt--,(t=e)===u&&(e=u,0===xt&&St(dt)),t}function Dt(){var t;return vt.test(a.charAt(At))?(t=a.charAt(At),At++):(t=u,0===xt&&St(gt)),t}if((r=r())!==u&&At===a.length)return r;throw r!==u&&At<a.length&&St({type:"end",description:"end of input"}),Ct(null,wt,bt)}),y.plurals={},y.formatters={},y.prototype.runtime={number:function(t,e){if(isNaN(t))throw new Error("'"+t+"' isn't a number.");return t-(e||0)},plural:function(t,e,r,n,o){if({}.hasOwnProperty.call(n,t))return n[t]();e&&(t-=e);o=r(t,o);return o in n?n[o]():n.other()},select:function(t,e){return{}.hasOwnProperty.call(e,t)?e[t]():e.other()},pluralFuncs:{},fmt:{},toString:function(){var a=function(t,e){if("object"!=typeof t){var r=t.toString().replace(/^(function )\w*/,"$1");return(i=/([ \t]*)\S.*$/.exec(r))?r.replace(new RegExp("^"+i[1],"mg"),""):r}var n,o=[];for(n in t)"toString"!=n&&(0==e?o.push("var "+n+" = "+a(t[n],e+1)+";\n"):o.push(d(n)+": "+a(t[n],e+1)));if(0==e)return o.join("");if(0==o.length)return"{}";for(var i="  ";--e;)i+="  ";return"{\n"+o.join(",\n").replace(/^/gm,i)+"\n}"};return a(this,0)}},y.prototype._precompile=function(t,e){e=e||{keys:{},offset:{}};var r,n=[],o=[];switch(t.type){case"messageFormatPattern":for(a=0;a<t.statements.length;++a)n.push(this._precompile(t.statements[a],e));return r=n.join(" + ")||'""',e.pf_count?r:"function(d) { return "+r+"; }";case"messageFormatElement":return e.pf_count=e.pf_count||0,t.output?d(t.argumentIndex,"d"):(e.keys[e.pf_count]=t.argumentIndex,this._precompile(t.elementFormat,e));case"elementFormat":switch(o=[d(e.keys[e.pf_count],"d")],t.key){case"select":return o.push(this._precompile(t.val,e)),"select("+o.join(", ")+")";case"selectordinal":return"plural("+(o=o.concat([0,d(this.lc[0],"pluralFuncs"),this._precompile(t.val,e),1])).join(", ")+")";case"plural":return e.offset[e.pf_count||0]=t.val.offset||0,"plural("+(o=o.concat([e.offset[e.pf_count]||0,d(this.lc[0],"pluralFuncs"),this._precompile(t.val,e)])).join(", ")+")";default:return this.withIntlSupport&&!(t.key in this.runtime.fmt)&&t.key in y.formatters&&(r=y.formatters[t.key],this.runtime.fmt[t.key]="function"==typeof r(this)?r(this):r),o.push(JSON.stringify(this.lc)),t.val&&t.val.length&&o.push(JSON.stringify(1==t.val.length?t.val[0]:t.val)),"fmt."+t.key+"("+o.join(", ")+")"}case"pluralFormatPattern":case"selectFormatPattern":e.pf_count=e.pf_count||0,"selectFormatPattern"==t.type&&(e.offset[e.pf_count]=0);for(var i=!0,a=0;a<t.pluralForms.length;++a){var u=t.pluralForms[a].key;"other"===u&&(i=!1);var s=JSON.parse(JSON.stringify(e));s.pf_count++,n.push(d(u)+": function() { return "+this._precompile(t.pluralForms[a].val,s)+";}")}if(i)throw new Error("No 'other' form found in "+t.type+" "+e.pf_count);return"{ "+n.join(", ")+" }";case"string":return JSON.stringify(t.val||"");case"octothorpe":return e.pf_count?(o=[d(e.keys[e.pf_count-1],"d")],e.offset[e.pf_count-1]&&o.push(e.offset[e.pf_count-1]),"number("+o.join(", ")+")"):'"#"';default:throw new Error("Bad AST type: "+t.type)}},y.prototype.compile=function(t,e){function r(t,e){try{var r=y._parse(e);return t._precompile(r)}catch(t){throw new Error((r?"Precompiler":"Parser")+" error: "+t.toString())}}var n,o={},i=this.lc,a=function(t,e){if(e=e||0,"object"!=typeof t)return t;for(var r,n=[],o="",i=0;i<e;++i)o+="  ";for(r in t)n.push("\n"+o+"  "+d(r)+": "+a(t[r],e+1));return"{"+n.join(",")+"\n"+o+"}"};if("string"==typeof t)return new Function("number, plural, select, pluralFuncs, fmt","return "+r(this,t))(this.runtime.number,this.runtime.plural,this.runtime.select,this.runtime.pluralFuncs,this.runtime.fmt);for(n in e=e||{},t)if(e.locale&&(this.lc=e.locale[n]&&[].concat(e.locale[n])||i),"string"==typeof t[n])try{o[n]=r(this,t[n])}catch(t){throw t.message=t.message.replace(":"," with `"+n+"`:"),t}else for(var u in o[n]={},t[n])try{o[n][u]=r(this,t[n][u])}catch(t){throw t.message=t.message.replace(":"," with `"+u+"` in `"+n+"`:"),t}this.lc=i;var s=this.runtime.toString()+"\n";switch(e.global||""){case"exports":var l,c=[];for(l in o)c.push(d(l,"exports")+" = "+a(o[l]));return new Function(s+c.join(";\n"));case"module.exports":return new Function(s+"module.exports = "+a(o));case"":return new Function(s+"return "+a(o));default:return new Function("G",s+d(e.global,"G")+" = "+a(o))}};function v(){return o("E_MISSING_PLURAL_MODULE","Plural module not loaded.")}function g(r){return function(t){var e;return"number"!=typeof t&&"string"!=typeof t||(t=[].slice.call(arguments,0)),m(e=t,"variables",void 0===e||i(e)||Array.isArray(e),"Array or Plain Object"),r(t)}}var A=y,F=[].slice;return t.loadMessages=function(t){var e,r={"globalize-messages":t,main:{}};for(e in h(t,"json"),a(t,"json"),t)t.hasOwnProperty(e)&&(r.main[e]={});n.load(r)},t.messageFormatter=t.prototype.messageFormatter=function(t){var e,r,n,o,i,a,u,s=F.call(arguments,0);return h(t,"path"),m(t,"path","string"==typeof t||Array.isArray(t),"a String nor an Array"),t=l(t),e=this.cldr,p(e),f("E_MISSING_MESSAGE_BUNDLE","Missing message bundle for locale `{locale}`.",(n=e).attributes.bundle&&void 0!==n.get("globalize-messages/{bundle}"),{locale:n.locale}),r=e.get(["globalize-messages/{bundle}"].concat(t)),o=r,n=(n=t).join("/"),f("E_MISSING_MESSAGE","Missing required message content `{path}`.",void 0!==o,{path:n}),Array.isArray(r)&&(r=r.join(" ")),o=r,n=(n=t).join("/"),f("E_INVALID_MESSAGE","Invalid message content `{path}`. {expected} expected.","string"==typeof o,{expected:"a string",path:n}),o=void 0!==this.plural?this.pluralGenerator():v,n=new A(e.locale,o).compile(r),r=g(n),c(s,e,r,[(i=n,a=e.locale,u=i.toString,i.toString=function(){var e={},t=u.call(i);return/number\(/.test(t)&&(e.number="messageFormat.number"),/plural\(/.test(t)&&(e.plural="messageFormat.plural"),/select\(/.test(t)&&(e.select="messageFormat.select"),t.replace(/pluralFuncs(\[([^\]]+)\]|\.([a-zA-Z]+))/,function(t){return e.pluralFuncs='{"'+a+'": Globalize("'+a+'").pluralGenerator()}',t}),"(function( "+Object.keys(e).join(", ")+" ) {\n  return "+t+"\n})("+Object.keys(e).map(function(t){return e[t]}).join(", ")+")"},i),o]),r},t.formatMessage=t.prototype.formatMessage=function(t){return this.messageFormatter(t).apply({},F.call(arguments,1))},t});