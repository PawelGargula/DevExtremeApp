!function(e,t){"function"==typeof define&&define.amd?define(["cldr","../globalize","./number","./plural"],t):"object"==typeof exports?module.exports=t(require("cldrjs"),require("../globalize")):t(e.Cldr,e.Globalize)}(this,function(e,t){function i(u,l,p){return function(e){return c(e,"value"),s(e,"value"),t=e,r=u,n=l,o=(a=p).compoundUnitPattern,a=a.unitProperties,i=r(t),e=n(t),a instanceof Array?(r=a[0],t=(n=a[1]).hasOwnProperty("one")?"one":"other",r=m(r[e],[i]),t=m(n[t],[""]).trim(),m(o,[r,t])):(e=a[e],m(e,[i]));var t,r,n,a,i,o}}var m=t._formatMessage,o=t._runtimeBind,c=t._validateParameterPresence,u=t._validateParameterTypePlainObject,s=t._validateParameterTypeNumber,l=t._validateParameterTypeString,p=["acceleration","angle","area","digital","duration","length","mass","power","pressure","speed","temperature","volume"];var f=function(t,r,n){var a;if(t=t.replace(/\//,"-per-"),[""].concat(p).some(function(e){return a=n.main(["units",r,e.length?e+"-"+t:t])}),(a=function(e){var t,r;if(e)for(r in t={},e)t[r.replace(/unitPattern-count-/,"")]=e[r];return t}(a))||!/-per-/.test(t)||(t=t.split("-per-"),(a=t.map(function(e){return f(e,r,n)}))[0]&&a[1]))return a},d=f;return t.formatUnit=t.prototype.formatUnit=function(e,t,r){return c(e,"value"),s(e,"value"),this.unitFormatter(t,r)(e)},t.unitFormatter=t.prototype.unitFormatter=function(e,t){var r,n,a;return c(e,"unit"),l(e,"unit"),u(t,"options"),r=[e,t=t||{}],a=t.form||"long",n=e,e=a,n={compoundUnitPattern:(a=this.cldr).main(["units",e,"per/compoundUnitPattern"]),unitProperties:d(n,e,a)},e=t.numberFormatter||this.numberFormatter(),a=this.pluralGenerator(),t=i(e,a,n),o(r,this.cldr,t,[e,a,n]),t},t});